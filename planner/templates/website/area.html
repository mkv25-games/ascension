<html>

<head>
    <title>{{title}}</title>
    <style>
        html, body {
            background: #EEE;
            color: #333;
            font-family: sans-serif;
            padding: 20px;
        }
    </style>
    <link href="tiles.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous"></script>
</head>

<body>
    <h1>{{title}}</h1>
    <table class="tile grid preview">
        <tbody>
            <tr>
                <td></td>
                <td class="bordered tile-{{N}} primary">N</td>
                <td></td>
            </tr>
            <tr>
                <td class="bordered tile-{{W}} primary">W</td>
                <td class="bordered tile-{{C}} primary">X</td>
                <td class="bordered tile-{{E}} primary">E</td>
            </tr>
            <tr>
                <td></td>
                <td class="bordered tile-{{S}} primary">S</td>
                <td></td>
            </tr>
        </tbody>
    </table>

    <table class="tile area viewer">
        <tbody>
            <tr>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.NW.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">NW</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.NX.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">NX</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.NE.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">NE</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.WX.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">WX</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.CX.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">CX</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.EX.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">EX</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.SW.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">SW</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
                <td>
                    <table class="tile grid">
                        <tbody>
                            {{#each areaViewer.layouts.SX.tiles}}
                            <tr>
                                {{#each this}}
                                    <td class="tile-{{this}} primary">SX</td>
                                {{/each}}
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </td>
                <td>

                        <table class="tile grid">
                            <tbody>
                                {{#each areaViewer.layouts.SE.tiles}}
                                <tr>
                                    {{#each this}}
                                        <td class="tile-{{this}} primary">SE</td>
                                    {{/each}}
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                </td>
            </tr>
        </tbody>
    </table>

    <script>
    $(function() {
        var tileMaps = {
            N: {{N}},
            S: {{S}},
            E: {{E}},
            W: {{W}},
            C: {{C}}
        };

        for(var k in tileMaps) {
            console.log(k, tileMaps);
            $('.tile-' + k).addClass('tile-' + tileMaps[k]);
        }
    });
    </script>
</body>

</html>
