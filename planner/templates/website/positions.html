<html>

<head>
    <title>{{title}}</title>
    <style>
        html, body {
            background: #EEE;
            color: #333;
            font-family: sans-serif;
            padding: 20px;
        }

        terrain {
            width: 40px;
            margin: 2px 0;
            display: inline-block;
        }

        terrain cell {
            width: 20px;
            height: 20px;
            display: inline-block;
        }
    </style>
    <link href="tiles.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous"></script>
</head>

<body>
    <h1>{{title}}</h1>
    <div class="terrains">
    {{#each areaTypes.positions}}
        <h3>{{name}}</h3>

        <h4>Combinations</h4>
        <p>Number of combinations: <b>{{count}}</b></p>
        <p>{{#each combinations}}
            <terrain><row><cell>{{this}}</cell></row></terrain>
        {{/each}}</p>
    {{/each}}
    </div>

    <script>

    function setup() {
        var compass = ['NW', 'NE', 'SW', 'SE'];
        $('terrain').each(function() {
            $terrain = $(this);
            var cells = $terrain.text().split('');
            var cellElements = '';
            cells.forEach(function(cell, index, array) {
                cellElements += '<cell class="tile-' + cell + ' primary compass-' + compass[index] + '">' + cell + '</cell>';
            });
            $terrain.html(cellElements);
        });
    }

    $(setup);

    </script>
</body>

</html>
